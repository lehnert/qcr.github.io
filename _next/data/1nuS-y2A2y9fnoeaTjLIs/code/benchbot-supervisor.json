{"pageProps":{"codeData":"{\"content\":\"<p><strong>NOTE: this software is part of the BenchBot software stack, and not intended to be run in isolation. For a working BenchBot system, please install the BenchBot software stack by following the instructions <a href=https://github.com/qcr/benchbot>here</a>.</strong></p>\\n<h1>BenchBot Supervisor</h1>\\n<p align=\\\"center\\\"><img alt=\\\"benchbot_supervisor\\\" src=\\\"/_next/static/images/benchbot_supervisor-308d8e63428bf85c3824123d688af972.jpg\\\" width=\\\"60%\\\"/></p>\\n<p>The BenchBot Supervisor is a HTTP server facilitating communication between user-facing interfaces like the <a href=https://github.com/qcr/benchbot_api>BenchBot API</a>, and the low-level robot components like <a href=https://github.com/qcr/benchbot_simulator>BenchBot Simulator</a> or real robots. Communication is typically routed through a <a href=https://github.com/qcr/benchbot_robot_controller>BenchBot Robot Controller</a>, which provides automated process management for low-level components and wraps all ROS communications.</p>\\n<h2>Installing and running the BenchBot Supervisor</h2>\\n<p>BenchBot Supervisor is a Python package containing a <code class=\\\"language-none\\\">Supervisor</code> class that wraps a HTTP server for both upstream and downstream communication. Install by running the following in the root directory of where this repository was cloned:</p>\\n<pre class=\\\"language-none\\\"><code class=\\\"language-none\\\">u@pc:~$ pip install .\\n</code></pre>\\n<p>Once installed, the Python class can be used as follows:</p>\\n<pre class=\\\"language-python\\\"><code class=\\\"language-python\\\"><span class=\\\"token keyword\\\">from</span> benchbot_supervisor <span class=\\\"token keyword\\\">import</span> Supervisor\\n\\ns <span class=\\\"token operator\\\">=</span> Supervisor<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token punctuation\\\">.</span>args<span class=\\\"token punctuation\\\">.</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token punctuation\\\">)</span>\\ns<span class=\\\"token punctuation\\\">.</span>run<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n</code></pre>\\n<p>The following parameters are typically required for a useful instantiation of the supervisor:</p>\\n<ul>\\n<li><strong>addons_path</strong>: path to installed <a href=https://github.com/qcr/benchbot_addons>BenchBot add-ons</a> (is the same as the directory where <code class=\\\"language-none\\\">manager.py</code> can be found)</li>\\n<li><strong>task_name</strong>: string matching the <code class=\\\"language-none\\\">'name'</code> field of an installed task</li>\\n<li><strong>robot_name</strong>: string matching the <code class=\\\"language-none\\\">'name'</code> field of an installed robot</li>\\n<li><strong>environment_names</strong>: list of strings, each matching the <code class=\\\"language-none\\\">'name':'variant'</code> field combination of an installed environment (the <code class=\\\"language-none\\\">'name'</code> must be the same for all environments in the list)</li>\\n<li><strong>port</strong>: select a different port than the default (10000)</li>\\n</ul>\\n<p>The module can also be executed directly, which makes the passing of arguments from the command line simple (see <code class=\\\"language-none\\\">python -m benchbot_supervisor --help</code> for argument details):</p>\\n<pre class=\\\"language-none\\\"><code class=\\\"language-none\\\">u@pc:~$ python -m benchbot_supervisor ...args...\\n</code></pre>\\n<p>As an example, the below command runs the supervisor for a scene change detection task, where active control is employed with ground truth localisation on a simulated Carter robot, and environments miniroom:1 and miniroom:5 are used:</p>\\n<pre class=\\\"language-none\\\"><code class=\\\"language-none\\\">u@pc:~$ python -m benchbot_supervisor \\\\\\n    --task-name scd:active:ground_truth \\\\\\n    --robot-name carter \\\\\\n    --environment-names miniroom:1,miniroom:5\\n</code></pre>\\n<h2>Employing task, robot, and environment configurations</h2>\\n<p>The BenchBot Supervisor requires configuration details for the selected tasks, robots, and environments. It uses these details to manage each of the system components, like API interaction and control of the simulator / real robot. Configuration details are provided by YAML files, which are referenced via their <code class=\\\"language-none\\\">'name'</code> field as shown above.</p>\\n<p>The <a href=https://github.com/qcr/benchbot_addons>BenchBot Add-ons Manager</a> manages the installation of, and access to, these files. See the documentation there for further details on configuration files. All you need to do to use add-ons with the supervisor is provide the location via the <code class=\\\"language-none\\\">'addons_path'</code> argument.</p>\\n<h2>Interacting with the BenchBot Supervisor</h2>\\n<p>The supervisor includes a RESTful HTTP API for all interaction with a user-facing API. The RESTful API includes the following commands:</p>\\n<table>\\n<thead>\\n<tr>\\n<th>Request Route</th>\\n<th>Response Format</th>\\n<th>Description</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td><code class=\\\"language-none\\\">/</code></td>\\n<td><pre class=\\\"language-none\\\">Hello, I am the BenchBot supervisor</pre></td>\\n<td>Arbitrary response to confirm connection.</td>\\n</tr>\\n<tr>\\n<td><code class=\\\"language-none\\\">/config/</code></td>\\n<td><pre class=\\\"language-none\\\">{<br> ...<br> 'param_name': param_value,<br> ...<br>}</pre></td>\\n<td>Dictionary containing containing parameter values for all of supervisor configuration settings. Keys correspond to parameter name, &amp; values to parameter value.</td>\\n</tr>\\n<tr>\\n<td><code class=\\\"language-none\\\">/config/&lt;config&gt;</code></td>\\n<td><code class=\\\"language-none\\\">config_value</code></td>\\n<td>Directly retrieve the value of a supervisor configuration parameter with name <code class=\\\"language-none\\\">'config'</code>. Returns <code class=\\\"language-none\\\">param_value</code> of <code class=\\\"language-none\\\">'config'</code>.</td>\\n</tr>\\n<tr>\\n<td><code class=\\\"language-none\\\">/connections/&lt;connection&gt;</code></td>\\n<td><code class=\\\"language-none\\\">dict</code></td>\\n<td>Returns the response of the connection (e.g. an <code class=\\\"language-none\\\">image_rgb</code> connection would return the image) as a <code class=\\\"language-none\\\">dict</code>. Format &amp; style of the <code class=\\\"language-none\\\">dict</code> is defined by the methods described above in &quot;Defining environment, robot, &amp; task configurations&quot;.</td>\\n</tr>\\n<tr>\\n<td><code class=\\\"language-none\\\">/results_functions/</code></td>\\n<td><code class=\\\"language-none\\\">list</code></td>\\n<td>Returns a list of the results function names that can be remotely executed via the route below.</td>\\n</tr>\\n<tr>\\n<td><code class=\\\"language-none\\\">/results_functions/&lt;function&gt;</code></td>\\n<td><code class=\\\"language-none\\\">dict</code></td>\\n<td>Calls results function with name <code class=\\\"language-none\\\">'function'</code>, and returns the result of the function call in the response's JSON body.</td>\\n</tr>\\n<tr>\\n<td><code class=\\\"language-none\\\">/robot/</code></td>\\n<td><pre class=\\\"language-none\\\">Hello, I am the BenchBot robot controller</pre></td>\\n<td>Arbitrary response confirming a robot controller is available.</td>\\n</tr>\\n<tr>\\n<td><code class=\\\"language-none\\\">/robot/&lt;command&gt;</code></td>\\n<td><code class=\\\"language-none\\\">dict</code></td>\\n<td>Passes the command <code class=\\\"language-none\\\">command</code> down to a running robot controller manager. See <a href=https://github.com/qcr/benchbot_robot_controller>BenchBot Robot Controller</a> for documentation of supported commands &amp; expected responses.</td>\\n</tr>\\n</tbody>\\n</table>\\n\",\"name\":\"BenchBot Backend Supervisor\",\"type\":\"code\",\"url\":\"https://github.com/qcr/benchbot_supervisor\",\"image_position\":\"center 0%\",\"src\":\"/content/benchbot/benchbot-supervisor.md\",\"id\":\"benchbot-supervisor\",\"image\":\"/_next/static/images/benchbot_supervisor-308d8e63428bf85c3824123d688af972.jpg\"}"},"__N_SSG":true}