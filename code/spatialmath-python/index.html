<!DOCTYPE html><html><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-H0HTWHNLPD"></script><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-H0HTWHNLPD', {
              page_path: window.location.pathname,
            });
          </script><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>QUT Centre for Robotics Open Source</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/ec58676f2add16c92212.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ec58676f2add16c92212.css" data-n-g=""/><link rel="preload" href="/_next/static/css/e59d3ff98fad3f065f44.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e59d3ff98fad3f065f44.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-c439d75cfca1ce6a0f7f.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.a6402fb70cc88f6f61b0.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.455c36b53add9c9c2736.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-d07085bfa8b88c39a473.js" as="script"/><link rel="preload" href="/_next/static/chunks/3d04e185781834a6bdd2cdc78a14cbdede4fee55.e5e850c413858c1cae6e.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/code/%5Bcode%5D-855919f7a7c9635db067.js" as="script"/></head><body><div id="__next"><div class="site" style="--mdc-theme-on-primary:rgba(255, 255, 255, 1);--mdc-theme-primary:#00407a"><header class="top_bar_bar__3T8Pf mdc-top-app-bar"><div class="top_bar_row__2Br8o mdc-top-app-bar__row"><section class="top_bar_logo-section__-bkhv mdc-top-app-bar__section mdc-top-app-bar__section--align-start"><img class="top_bar_logo__27Lwl" alt="QCR Logo (light)" src="/_next/static/images/qcr_logo_light-3a0967f7c1a32ca7de4713af85481529.png"/></section><section class="top_bar_pages__3emYr mdc-top-app-bar__section mdc-top-app-bar__section--align-end"><button class="mdc-button"><div class="mdc-button__ripple"></div><span class="mdc-button__label">Collections</span></button><button class="top_bar_selected-tab__2hCGV mdc-button"><div class="mdc-button__ripple"></div><span class="mdc-button__label">Code</span></button><button class="mdc-button"><div class="mdc-button__ripple"></div><span class="mdc-button__label">Datasets</span></button></section></div></header><div class="layout_space__3mcnW"></div><div class="layout_main__1OEEk layout_content__3ZRgy"><span class="code_heading__1xc27 mdc-typography--headline3">Spatialmath Python</span><a href="https://github.com/petercorke/spatialmath-python" target="_blank" class="focus_button_link__3dooQ"><button class="focus_button_button__MO_3J mdc-button mdc-button--raised"><div class="mdc-button__ripple"></div><span class="mdc-button__label">View the code on GitHub</span><i class="rmwc-icon rmwc-icon--url material-icons mdc-button__icon" style="background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgc29kaXBvZGk6ZG9jbmFtZT0iZ2l0aHViLnN2ZyIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4wICgxLjArcjczKzEpIgogICBpZD0ic3ZnMTM4MyIKICAgdmVyc2lvbj0iMS4xIgogICB2aWV3Qm94PSIwIDAgMTEuNDkzMTQ3IDExLjIwOTQ2NyIKICAgaGVpZ2h0PSIxMS4yMDk0NjdtbSIKICAgd2lkdGg9IjExLjQ5MzE0N21tIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzMTM3NyIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMzYyIgogICAgIGlua3NjYXBlOndpbmRvdy14PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjEwNTIiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxOTIwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC1yb3RhdGlvbj0iMCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9Im1tIgogICAgIGlua3NjYXBlOmN5PSIxMjYuMjk1MTUiCiAgICAgaW5rc2NhcGU6Y3g9IjE4Ljk2OTk1MSIKICAgICBpbmtzY2FwZTp6b29tPSIwLjk4ODg0NzEiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgaWQ9ImJhc2UiIC8+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhMTM4MCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTAxLjMyMzAzLC05OC4yMTQ5NTkpIgogICAgIGlkPSJsYXllcjEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSI+CiAgICA8ZwogICAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMC4zNTI3Nzc3NywwLDAsLTAuMzUyNzc3NzcsMTA3LjA2OTA3LDk4LjIxNDk1OSkiCiAgICAgICBpZD0iZzIyIj4KICAgICAgPHBhdGgKICAgICAgICAgaWQ9InBhdGgyNCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzFiMTgxNztmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZSIKICAgICAgICAgZD0ibSAwLDAgYyAtOC45OTUsMCAtMTYuMjg4LC03LjI5MyAtMTYuMjg4LC0xNi4yOSAwLC03LjE5NyA0LjY2NywtMTMuMzAyIDExLjE0LC0xNS40NTcgMC44MTUsLTAuMTQ5IDEuMTEyLDAuMzU0IDEuMTEyLDAuNzg2IDAsMC4zODYgLTAuMDE0LDEuNDExIC0wLjAyMiwyLjc3IC00LjUzMSwtMC45ODQgLTUuNDg3LDIuMTg0IC01LjQ4NywyLjE4NCAtMC43NDEsMS44ODEgLTEuODA5LDIuMzgyIC0xLjgwOSwyLjM4MiAtMS40NzksMS4wMTEgMC4xMTIsMC45OTEgMC4xMTIsMC45OTEgMS42MzUsLTAuMTE2IDIuNDk1LC0xLjY3OSAyLjQ5NSwtMS42NzkgMS40NTMsLTIuNDg5IDMuODEzLC0xLjc3IDQuNzQxLC0xLjM1NCAwLjE0OCwxLjA1MyAwLjU2OCwxLjc3MSAxLjAzNCwyLjE3OCAtMy42MTcsMC40MTEgLTcuNDIsMS44MDkgLTcuNDIsOC4wNTEgMCwxLjc3OCAwLjYzNSwzLjIzMiAxLjY3Nyw0LjM3MSAtMC4xNjgsMC40MTIgLTAuNzI3LDIuMDY4IDAuMTU5LDQuMzExIDAsMCAxLjM2OCwwLjQzOCA0LjQ4LC0xLjY3IDEuMjk5LDAuMzYxIDIuNjkzLDAuNTQyIDQuMDc4LDAuNTQ4IDEuMzgzLC0wLjAwNiAyLjc3NywtMC4xODcgNC4wNzgsLTAuNTQ4IDMuMTEsMi4xMDggNC40NzUsMS42NyA0LjQ3NSwxLjY3IDAuODg5LC0yLjI0MyAwLjMzLC0zLjg5OSAwLjE2MiwtNC4zMTEgMS4wNDQsLTEuMTM5IDEuNjc1LC0yLjU5MyAxLjY3NSwtNC4zNzEgMCwtNi4yNTggLTMuODA5LC03LjYzNSAtNy40MzgsLTguMDM4IDAuNTg1LC0wLjUwMyAxLjEwNiwtMS40OTcgMS4xMDYsLTMuMDE3IDAsLTIuMTc3IC0wLjAyLC0zLjkzNCAtMC4wMiwtNC40NjggMCwtMC40MzYgMC4yOTMsLTAuOTQzIDEuMTIsLTAuNzg0IDYuNDY4LDIuMTU5IDExLjEzMSw4LjI2IDExLjEzMSwxNS40NTUgQyAxNi4yOTEsLTcuMjkzIDguOTk3LDAgMCwwIiAvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==)"></i></button></a><span class="code_extra__yQqAk mdc-typography--body2">petercorke/spatialmath-python</span><span class="markdown-body mdc-typography--body1"><div><h1>Spatial Maths for Python</h1>
<p><a href="https://badge.fury.io/py/spatialmath-python"><img src="https://badge.fury.io/py/spatialmath-python.svg" alt="PyPI version"></a>
<img src="https://img.shields.io/pypi/pyversions/roboticstoolbox-python.svg" alt="PyPI - Python Version">
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a>
<a href="https://qcr.github.io"><img src=https://github.com/qcr/qcr.github.io/raw/master/misc/badge.svg alt="QUT Centre for Robotics Open Source"></a></p>
<p><a href=https://github.com/petercorke/spatialmath-python/actions?query=workflow%3Abuild><img src=https://github.com/petercorke/spatialmath-python/workflows/build/badge.svg?branch=master alt="Build Status"></a>
<a href="https://codecov.io/gh/petercorke/spatialmath-python"><img src="https://codecov.io/gh/petercorke/spatialmath-python/branch/master/graph/badge.svg" alt="Coverage"></a>
<a href="https://lgtm.com/projects/g/petercorke/spatialmath-python/context:python"><img src="https://img.shields.io/lgtm/grade/python/g/petercorke/spatialmath-python.svg?logo=lgtm&amp;logoWidth=18" alt="Language grade: Python"></a>
<a href="https://pypistats.org/packages/spatialmath-python"><img src="https://img.shields.io/pypi/dw/spatialmath-python" alt="PyPI - Downloads"></a>
<a href=https://GitHub.com/petercorke/spatialmath-python/stargazers/><img src="https://img.shields.io/github/stars/petercorke/spatialmath-python.svg?style=social&amp;label=Star" alt="GitHub stars"></a></p>
<table style="border:0px">
<tr style="border:0px">
<td style="border:0px">
<img src=https://github.com/petercorke/spatialmath-python/raw/master/docs/figs/CartesianSnakes_LogoW.png width="200"></td>
<td style="border:0px">
A Python implementation of the <a href="https://github.com/petercorke/spatial-math">Spatial Math Toolbox for MATLAB<sup>&reg;</sup></a>
<ul>
<li><a href="https://github.com/petercorke/spatialmath-python">GitHub repository </a></li>
<li><a href="https://petercorke.github.io/spatialmath-python">Documentation</a></li>
<li><a href="https://github.com/petercorke/spatialmath-python/wiki">Examples and details</a></li>
<li><a href="installation#">Installation</a></li>
</ul>
</td>
</tr>
</table>
<p>Spatial mathematics capability underpins all of robotics and robotic vision where we need to describe the position, orientation or pose of objects in 2D or 3D spaces.</p>
<h1>What it does</h1>
<p>The package provides classes to represent pose and orientation in 3D and 2D
space:</p>
<table>
<thead>
<tr>
<th>Represents</th>
<th>in 3D</th>
<th>in 2D</th>
</tr>
</thead>
<tbody>
<tr>
<td>pose</td>
<td><code class="language-none">SE3</code> <code class="language-none">Twist3</code> <code class="language-none">UnitDualQuaternion</code></td>
<td><code class="language-none">SE2</code> <code class="language-none">Twist2</code></td>
</tr>
<tr>
<td>orientation</td>
<td><code class="language-none">SO3</code> <code class="language-none">UnitQuaternion</code></td>
<td><code class="language-none">SO2</code></td>
</tr>
</tbody>
</table>
<p>More specifically:</p>
<ul>
<li><code class="language-none">SE3</code> matrices belonging to the group SE(3) for position and orientation (pose) in 3-dimensions</li>
<li><code class="language-none">SO3</code> matrices belonging to the group SO(3) for orientation in 3-dimensions</li>
<li><code class="language-none">UnitQuaternion</code> belonging to the group S3 for orientation in 3-dimensions</li>
<li><code class="language-none">Twist3</code> vectors belonging to the group se(3) for pose in 3-dimensions</li>
<li><code class="language-none">UnitDualQuaternion</code> maps to the group SE(3) for position and orientation (pose) in 3-dimensions</li>
<li><code class="language-none">SE2</code> matrices belonging to the group SE(2) for position and orientation (pose) in 2-dimensions</li>
<li><code class="language-none">SO2</code> matrices belonging to the group SO(2) for orientation in 2-dimensions</li>
<li><code class="language-none">Twist2</code> vectors belonging to the group se(2) for pose in 2-dimensions</li>
</ul>
<p>These classes provide convenience and type safety, as well as methods and overloaded operators to support:</p>
<ul>
<li>composition, using the <code class="language-none">*</code> operator</li>
<li>point transformation, using the <code class="language-none">*</code> operator</li>
<li>exponent, using the <code class="language-none">**</code> operator</li>
<li>normalization</li>
<li>inversion</li>
<li>connection to the Lie algebra via matrix exponential and logarithm operations</li>
<li>conversion of orientation to/from Euler angles, roll-pitch-yaw angles and angle-axis forms.</li>
<li>list operations such as append, insert and get</li>
</ul>
<p>These are layered over a set of base functions that perform many of the same operations but represent data explicitly in terms of <code class="language-none">numpy</code> arrays.</p>
<p>The class, method and functions names largely mirror those of the MATLAB toolboxes, and the semantics are quite similar.</p>
<p><img src=https://github.com/petercorke/spatialmath-python/raw/master/docs/figs/fig1.png alt="trplot"></p>
<p><video autoplay loop poster="/_next/static/gifs/f53aa66b328813113b38f087b50da80f.jpg"><source src="/_next/static/gifs/f53aa66b328813113b38f087b50da80f.webm" type="video/webm"/></video></p>
<h1>Installation</h1>
<h2>Using pip</h2>
<p>Install a snapshot from PyPI</p>
<pre class="language-none"><code class="language-none">pip install spatialmath-python
</code></pre>
<h2>From GitHub</h2>
<p>Install the current code base from GitHub and pip install a link to that cloned copy</p>
<pre class="language-none"><code class="language-none">git clone https://github.com/petercorke/spatialmath-python.git
cd spatialmath-python
pip install -e .
</code></pre>
<h2>Dependencies</h2>
<p><code class="language-none">numpy</code>, <code class="language-none">scipy</code>, <code class="language-none">matplotlib</code>, <code class="language-none">ffmpeg</code> (if rendering animations as a movie)</p>
<h1>Examples</h1>
<h2>High-level classes</h2>
<p>These classes abstract the low-level numpy arrays into objects that obey the rules associated with the mathematical groups SO(2), SE(2), SO(3), SE(3) as well as twists and quaternions.</p>
<p>Using classes ensures type safety, for example it stops us mixing a 2D homogeneous transformation with a 3D rotation matrix -- both of which are 3x3 matrices.  It also ensures that the internal matrix representation is always a valid member of the relevant group.</p>
<p>For example, to create an object representing a rotation of 0.3 radians about the x-axis is simply</p>
<pre class="language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> R1 <span class="token operator">=</span> SO3<span class="token punctuation">.</span>Rx<span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> R1
   <span class="token number">1</span>         <span class="token number">0</span>         <span class="token number">0</span>          
   <span class="token number">0</span>         <span class="token number">0.955336</span> <span class="token operator">-</span><span class="token number">0.29552</span>    
   <span class="token number">0</span>         <span class="token number">0.29552</span>   <span class="token number">0.955336</span>         
</code></pre>
<p>while a rotation of 30 deg about the z-axis is</p>
<pre class="language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> R2 <span class="token operator">=</span> SO3<span class="token punctuation">.</span>Rz<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">'deg'</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> R2
   <span class="token number">0.866025</span> <span class="token operator">-</span><span class="token number">0.5</span>       <span class="token number">0</span>          
   <span class="token number">0.5</span>       <span class="token number">0.866025</span>  <span class="token number">0</span>          
   <span class="token number">0</span>         <span class="token number">0</span>         <span class="token number">1</span>    
</code></pre>
<p>and the composition of these two rotations is</p>
<pre class="language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> R <span class="token operator">=</span> R1 <span class="token operator">*</span> R2
   <span class="token number">0.866025</span> <span class="token operator">-</span><span class="token number">0.5</span>       <span class="token number">0</span>          
   <span class="token number">0.433013</span>  <span class="token number">0.75</span>     <span class="token operator">-</span><span class="token number">0.5</span>        
   <span class="token number">0.25</span>      <span class="token number">0.433013</span>  <span class="token number">0.866025</span> 
</code></pre>
<p>We can find the corresponding Euler angles (in radians)</p>
<pre class="language-python"><code class="language-python"><span class="token operator">>></span> R<span class="token punctuation">.</span>eul<span class="token punctuation">(</span><span class="token punctuation">)</span>
array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1.57079633</span><span class="token punctuation">,</span>  <span class="token number">0.52359878</span><span class="token punctuation">,</span>  <span class="token number">2.0943951</span> <span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<p>Frequently in robotics we want a sequence, a trajectory, of rotation matrices or poses. These pose classes inherit capability from the <code class="language-none">list</code> class</p>
<pre class="language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> R <span class="token operator">=</span> SO3<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># the identity</span>
<span class="token operator">>></span><span class="token operator">></span> R<span class="token punctuation">.</span>append<span class="token punctuation">(</span>R1<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> R<span class="token punctuation">.</span>append<span class="token punctuation">(</span>R2<span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">len</span><span class="token punctuation">(</span>R<span class="token punctuation">)</span>
 <span class="token number">3</span>
<span class="token operator">>></span><span class="token operator">></span> R<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
   <span class="token number">1</span>         <span class="token number">0</span>         <span class="token number">0</span>          
   <span class="token number">0</span>         <span class="token number">0.955336</span> <span class="token operator">-</span><span class="token number">0.29552</span>    
   <span class="token number">0</span>         <span class="token number">0.29552</span>   <span class="token number">0.955336</span>             
</code></pre>
<p>and this can be used in <code class="language-none">for</code> loops and list comprehensions.</p>
<p>An alternative way of constructing this would be (<code class="language-none">R1</code>, <code class="language-none">R2</code> defined above)</p>
<pre class="language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> R <span class="token operator">=</span> SO3<span class="token punctuation">(</span> <span class="token punctuation">[</span> SO3<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> R1<span class="token punctuation">,</span> R2 <span class="token punctuation">]</span> <span class="token punctuation">)</span>       
<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">len</span><span class="token punctuation">(</span>R<span class="token punctuation">)</span>
 <span class="token number">3</span>
</code></pre>
<p>Many of the constructors such as <code class="language-none">.Rx</code>, <code class="language-none">.Ry</code> and <code class="language-none">.Rz</code> support vectorization</p>
<pre class="language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> R <span class="token operator">=</span> SO3<span class="token punctuation">.</span>Rx<span class="token punctuation">(</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">*</span>np<span class="token punctuation">.</span>pi<span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">len</span><span class="token punctuation">(</span>R<span class="token punctuation">)</span>
 <span class="token number">32</span>
</code></pre>
<p>which has created, in a single line, a list of rotation matrices.</p>
<p>Vectorization also applies to the operators, for instance</p>
<pre class="language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> A <span class="token operator">=</span> R <span class="token operator">*</span> SO3<span class="token punctuation">.</span>Ry<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">len</span><span class="token punctuation">(</span>R<span class="token punctuation">)</span>
 <span class="token number">32</span>
</code></pre>
<p>will produce a result where each element is the product of each element of the left-hand side with the right-hand side, ie. <code class="language-none">R[i] * SO3.Ry(0.5)</code>.</p>
<p>Similarly</p>
<pre class="language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> A <span class="token operator">=</span> SO3<span class="token punctuation">.</span>Ry<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">*</span> R 
<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">len</span><span class="token punctuation">(</span>R<span class="token punctuation">)</span>
 <span class="token number">32</span>
</code></pre>
<p>will produce a result where each element is the product of the left-hand side with each element of the right-hand side , ie. <code class="language-none">SO3.Ry(0.5) * R[i] </code>.</p>
<p>Finally</p>
<pre class="language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> A <span class="token operator">=</span> R <span class="token operator">*</span> R 
<span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">len</span><span class="token punctuation">(</span>R<span class="token punctuation">)</span>
 <span class="token number">32</span>
</code></pre>
<p>will produce a result where each element is the product of each element of the left-hand side with each element of the right-hand side , ie. <code class="language-none">R[i] * R[i] </code>.</p>
<p>The underlying representation of these classes is a numpy matrix, but the class ensures that the structure of that matrix is valid for the particular group represented: SO(2), SE(2), SO(3), SE(3).  Any operation that is not valid for the group will return a matrix rather than a pose class, for example</p>
<pre class="language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> SO3<span class="token punctuation">.</span>Rx<span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span>
array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">2</span><span class="token punctuation">.</span>        <span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">.</span>        <span class="token punctuation">,</span>  <span class="token number">0</span><span class="token punctuation">.</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">.</span>        <span class="token punctuation">,</span>  <span class="token number">1.91067298</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.59104041</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">.</span>        <span class="token punctuation">,</span>  <span class="token number">0.59104041</span><span class="token punctuation">,</span>  <span class="token number">1.91067298</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token operator">>></span><span class="token operator">></span> SO3<span class="token punctuation">.</span>Rx<span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">.</span>        <span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">.</span>        <span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">.</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">.</span>        <span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.04466351</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.29552021</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">.</span>        <span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.70447979</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.04466351</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<p>We can print and plot these objects as well</p>
<pre class="language-none"><code class="language-none">&gt;&gt;&gt; T = SE3(1,2,3) * SE3.Rx(30, 'deg')
&gt;&gt;&gt; T.print()
   1         0         0         1          
   0         0.866025 -0.5       2          
   0         0.5       0.866025  3          
   0         0         0         1          

&gt;&gt;&gt; T.printline()
t =        1,        2,        3; rpy/zyx =       30,        0,        0 deg

&gt;&gt;&gt; T.plot()
</code></pre>
<p><img src=https://github.com/petercorke/spatialmath-python/raw/master/docs/figs/fig1.png alt="trplot"></p>
<p><code class="language-none">printline</code> is a compact single line format for tabular listing, whereas <code class="language-none">print</code> shows the underlying matrix and for consoles that support it, it is colorised, with rotational elements in red and translational elements in blue.</p>
<p>For more detail checkout the shipped Python notebooks:</p>
<ul>
<li><a href=https://github.com/petercorke/spatialmath-python/blob/master/spatialmath/gentle-introduction.ipynb>gentle introduction</a></li>
<li><a href=https://github.com/petercorke/spatialmath-python/blob/master/spatialmath/introduction.ipynb>deeper introduction</a></li>
</ul>
<p>You can browse it statically through the links above, or clone the toolbox and run them interactively using <a href="https://jupyter.org">Jupyter</a> or <a href="https://jupyter.org">JupyterLab</a>.</p>
<h2>Low-level spatial math</h2>
<p>Import the low-level transform functions</p>
<pre class="language-none"><code class="language-none">&gt;&gt;&gt; import spatialmath.base as tr
</code></pre>
<p>We can create a 3D rotation matrix</p>
<pre class="language-none"><code class="language-none">&gt;&gt;&gt; tr.rotx(0.3)
array([[ 1.        ,  0.        ,  0.        ],
       [ 0.        ,  0.95533649, -0.29552021],
       [ 0.        ,  0.29552021,  0.95533649]])

&gt;&gt;&gt; tr.rotx(30, unit='deg')
array([[ 1.       ,  0.       ,  0.       ],
       [ 0.       ,  0.8660254, -0.5      ],
       [ 0.       ,  0.5      ,  0.8660254]])
</code></pre>
<p>The results are <code class="language-none">numpy</code> arrays so to perform matrix multiplication you need to use the <code class="language-none">@</code> operator, for example</p>
<pre class="language-none"><code class="language-none">rotx(0.3) @ roty(0.2)
</code></pre>
<p>We also support multiple ways of passing vector information to functions that require it:</p>
<ul>
<li>as separate positional arguments</li>
</ul>
<pre class="language-none"><code class="language-none">transl2(1, 2)
array([[1., 0., 1.],
       [0., 1., 2.],
       [0., 0., 1.]])
</code></pre>
<ul>
<li>as a list or a tuple</li>
</ul>
<pre class="language-none"><code class="language-none">transl2( [1,2] )
array([[1., 0., 1.],
       [0., 1., 2.],
       [0., 0., 1.]])

transl2( (1,2) )
Out[444]: 
array([[1., 0., 1.],
       [0., 1., 2.],
       [0., 0., 1.]])
</code></pre>
<ul>
<li>or as a <code class="language-none">numpy</code> array</li>
</ul>
<pre class="language-none"><code class="language-none">transl2( np.array([1,2]) )
Out[445]: 
array([[1., 0., 1.],
       [0., 1., 2.],
       [0., 0., 1.]])
</code></pre>
<p>There is a single module that deals with quaternions, unit or not, and the representation is a <code class="language-none">numpy</code> array of four elements.  As above, functions can accept the <code class="language-none">numpy</code> array, a list, dict or <code class="language-none">numpy</code> row or column vectors.</p>
<pre class="language-none"><code class="language-none">&gt;&gt;&gt; from spatialmath.base.quaternion import *
&gt;&gt;&gt; q = qqmul([1,2,3,4], [5,6,7,8])
&gt;&gt;&gt; q
array([-60,  12,  30,  24])
&gt;&gt;&gt; qprint(q)
-60.000000 &lt; 12.000000, 30.000000, 24.000000 &gt;
&gt;&gt;&gt; qnorm(q)
72.24956747275377
</code></pre>
<h2>Graphics</h2>
<p><img src=https://github.com/petercorke/spatialmath-python/raw/master/docs/figs/transforms3d.png alt="trplot"></p>
<p>The functions support various plotting styles</p>
<pre class="language-none"><code class="language-none">trplot( transl(1,2,3), frame='A', rviz=True, width=1, dims=[0, 10, 0, 10, 0, 10])
trplot( transl(3,1, 2), color='red', width=3, frame='B')
trplot( transl(4, 3, 1)@trotx(math.pi/3), color='green', frame='c', dims=[0,4,0,4,0,4])
</code></pre>
<p>Animation is straightforward</p>
<pre class="language-none"><code class="language-none">tranimate(transl(4, 3, 4)@trotx(2)@troty(-2), frame=' arrow=False, dims=[0, 5], nframes=200)
</code></pre>
<p>and it can be saved to a file by</p>
<pre class="language-none"><code class="language-none">tranimate(transl(4, 3, 4)@trotx(2)@troty(-2), frame=' arrow=False, dims=[0, 5], nframes=200, movie='out.mp4')
</code></pre>
<p><video autoplay loop poster="/_next/static/gifs/f53aa66b328813113b38f087b50da80f.jpg"><source src="/_next/static/gifs/f53aa66b328813113b38f087b50da80f.webm" type="video/webm"/></video></p>
<p>At the moment we can only save as an MP4, but the following incantation will covert that to an animated GIF for embedding in web pages</p>
<pre class="language-none"><code class="language-none">ffmpeg -i out -r 20 -vf &quot;fps=10,scale=640:-1:flags=lanczos,split[s0][s1];[s0]palettegen[p];[s1][p]paletteuse&quot; out.gif
</code></pre>
<h2>Symbolic support</h2>
<p>Some functions have support for symbolic variables, for example</p>
<pre class="language-none"><code class="language-none">import sympy

theta = sym.symbols('theta')
print(rotx(theta))
[[1 0 0]
 [0 cos(theta) -sin(theta)]
 [0 sin(theta) cos(theta)]]
</code></pre>
<p>The resulting <code class="language-none">numpy</code> array is an array of symbolic objects not numbers – the constants are also symbolic objects.  You can read the elements of the matrix</p>
<pre class="language-none"><code class="language-none">a = T[0,0]

a
Out[258]: 1

type(a)
Out[259]: int

a = T[1,1]
a
Out[256]: 
cos(theta)
type(a)
Out[255]: cos
</code></pre>
<p>We see that the symbolic constants are converted back to Python numeric types on read.</p>
<p>Similarly when we assign an element or slice of the symbolic matrix to a numeric value, they are converted to symbolic constants on the way in.</p>
</div> </span></div><div class="bottom_bar_bar__B7RGm"><div class="site-bottom-bar bottom_bar_content__2DVtD"><div></div><div></div><div><span class="mdc-typography--body2">CRICOS No. 00213J</span></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"codeData":"{\"content\":\"\u003ch1\u003eSpatial Maths for Python\u003c/h1\u003e\\n\u003cp\u003e\u003ca href=\\\"https://badge.fury.io/py/spatialmath-python\\\"\u003e\u003cimg src=\\\"https://badge.fury.io/py/spatialmath-python.svg\\\" alt=\\\"PyPI version\\\"\u003e\u003c/a\u003e\\n\u003cimg src=\\\"https://img.shields.io/pypi/pyversions/roboticstoolbox-python.svg\\\" alt=\\\"PyPI - Python Version\\\"\u003e\\n\u003ca href=\\\"https://opensource.org/licenses/MIT\\\"\u003e\u003cimg src=\\\"https://img.shields.io/badge/License-MIT-yellow.svg\\\" alt=\\\"License: MIT\\\"\u003e\u003c/a\u003e\\n\u003ca href=\\\"https://qcr.github.io\\\"\u003e\u003cimg src=https://github.com/qcr/qcr.github.io/raw/master/misc/badge.svg alt=\\\"QUT Centre for Robotics Open Source\\\"\u003e\u003c/a\u003e\u003c/p\u003e\\n\u003cp\u003e\u003ca href=https://github.com/petercorke/spatialmath-python/actions?query=workflow%3Abuild\u003e\u003cimg src=https://github.com/petercorke/spatialmath-python/workflows/build/badge.svg?branch=master alt=\\\"Build Status\\\"\u003e\u003c/a\u003e\\n\u003ca href=\\\"https://codecov.io/gh/petercorke/spatialmath-python\\\"\u003e\u003cimg src=\\\"https://codecov.io/gh/petercorke/spatialmath-python/branch/master/graph/badge.svg\\\" alt=\\\"Coverage\\\"\u003e\u003c/a\u003e\\n\u003ca href=\\\"https://lgtm.com/projects/g/petercorke/spatialmath-python/context:python\\\"\u003e\u003cimg src=\\\"https://img.shields.io/lgtm/grade/python/g/petercorke/spatialmath-python.svg?logo=lgtm\u0026amp;logoWidth=18\\\" alt=\\\"Language grade: Python\\\"\u003e\u003c/a\u003e\\n\u003ca href=\\\"https://pypistats.org/packages/spatialmath-python\\\"\u003e\u003cimg src=\\\"https://img.shields.io/pypi/dw/spatialmath-python\\\" alt=\\\"PyPI - Downloads\\\"\u003e\u003c/a\u003e\\n\u003ca href=https://GitHub.com/petercorke/spatialmath-python/stargazers/\u003e\u003cimg src=\\\"https://img.shields.io/github/stars/petercorke/spatialmath-python.svg?style=social\u0026amp;label=Star\\\" alt=\\\"GitHub stars\\\"\u003e\u003c/a\u003e\u003c/p\u003e\\n\u003ctable style=\\\"border:0px\\\"\u003e\\n\u003ctr style=\\\"border:0px\\\"\u003e\\n\u003ctd style=\\\"border:0px\\\"\u003e\\n\u003cimg src=https://github.com/petercorke/spatialmath-python/raw/master/docs/figs/CartesianSnakes_LogoW.png width=\\\"200\\\"\u003e\u003c/td\u003e\\n\u003ctd style=\\\"border:0px\\\"\u003e\\nA Python implementation of the \u003ca href=\\\"https://github.com/petercorke/spatial-math\\\"\u003eSpatial Math Toolbox for MATLAB\u003csup\u003e\u0026reg;\u003c/sup\u003e\u003c/a\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003ca href=\\\"https://github.com/petercorke/spatialmath-python\\\"\u003eGitHub repository \u003c/a\u003e\u003c/li\u003e\\n\u003cli\u003e\u003ca href=\\\"https://petercorke.github.io/spatialmath-python\\\"\u003eDocumentation\u003c/a\u003e\u003c/li\u003e\\n\u003cli\u003e\u003ca href=\\\"https://github.com/petercorke/spatialmath-python/wiki\\\"\u003eExamples and details\u003c/a\u003e\u003c/li\u003e\\n\u003cli\u003e\u003ca href=\\\"installation#\\\"\u003eInstallation\u003c/a\u003e\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003c/td\u003e\\n\u003c/tr\u003e\\n\u003c/table\u003e\\n\u003cp\u003eSpatial mathematics capability underpins all of robotics and robotic vision where we need to describe the position, orientation or pose of objects in 2D or 3D spaces.\u003c/p\u003e\\n\u003ch1\u003eWhat it does\u003c/h1\u003e\\n\u003cp\u003eThe package provides classes to represent pose and orientation in 3D and 2D\\nspace:\u003c/p\u003e\\n\u003ctable\u003e\\n\u003cthead\u003e\\n\u003ctr\u003e\\n\u003cth\u003eRepresents\u003c/th\u003e\\n\u003cth\u003ein 3D\u003c/th\u003e\\n\u003cth\u003ein 2D\u003c/th\u003e\\n\u003c/tr\u003e\\n\u003c/thead\u003e\\n\u003ctbody\u003e\\n\u003ctr\u003e\\n\u003ctd\u003epose\u003c/td\u003e\\n\u003ctd\u003e\u003ccode class=\\\"language-none\\\"\u003eSE3\u003c/code\u003e \u003ccode class=\\\"language-none\\\"\u003eTwist3\u003c/code\u003e \u003ccode class=\\\"language-none\\\"\u003eUnitDualQuaternion\u003c/code\u003e\u003c/td\u003e\\n\u003ctd\u003e\u003ccode class=\\\"language-none\\\"\u003eSE2\u003c/code\u003e \u003ccode class=\\\"language-none\\\"\u003eTwist2\u003c/code\u003e\u003c/td\u003e\\n\u003c/tr\u003e\\n\u003ctr\u003e\\n\u003ctd\u003eorientation\u003c/td\u003e\\n\u003ctd\u003e\u003ccode class=\\\"language-none\\\"\u003eSO3\u003c/code\u003e \u003ccode class=\\\"language-none\\\"\u003eUnitQuaternion\u003c/code\u003e\u003c/td\u003e\\n\u003ctd\u003e\u003ccode class=\\\"language-none\\\"\u003eSO2\u003c/code\u003e\u003c/td\u003e\\n\u003c/tr\u003e\\n\u003c/tbody\u003e\\n\u003c/table\u003e\\n\u003cp\u003eMore specifically:\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003ccode class=\\\"language-none\\\"\u003eSE3\u003c/code\u003e matrices belonging to the group SE(3) for position and orientation (pose) in 3-dimensions\u003c/li\u003e\\n\u003cli\u003e\u003ccode class=\\\"language-none\\\"\u003eSO3\u003c/code\u003e matrices belonging to the group SO(3) for orientation in 3-dimensions\u003c/li\u003e\\n\u003cli\u003e\u003ccode class=\\\"language-none\\\"\u003eUnitQuaternion\u003c/code\u003e belonging to the group S3 for orientation in 3-dimensions\u003c/li\u003e\\n\u003cli\u003e\u003ccode class=\\\"language-none\\\"\u003eTwist3\u003c/code\u003e vectors belonging to the group se(3) for pose in 3-dimensions\u003c/li\u003e\\n\u003cli\u003e\u003ccode class=\\\"language-none\\\"\u003eUnitDualQuaternion\u003c/code\u003e maps to the group SE(3) for position and orientation (pose) in 3-dimensions\u003c/li\u003e\\n\u003cli\u003e\u003ccode class=\\\"language-none\\\"\u003eSE2\u003c/code\u003e matrices belonging to the group SE(2) for position and orientation (pose) in 2-dimensions\u003c/li\u003e\\n\u003cli\u003e\u003ccode class=\\\"language-none\\\"\u003eSO2\u003c/code\u003e matrices belonging to the group SO(2) for orientation in 2-dimensions\u003c/li\u003e\\n\u003cli\u003e\u003ccode class=\\\"language-none\\\"\u003eTwist2\u003c/code\u003e vectors belonging to the group se(2) for pose in 2-dimensions\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cp\u003eThese classes provide convenience and type safety, as well as methods and overloaded operators to support:\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003ecomposition, using the \u003ccode class=\\\"language-none\\\"\u003e*\u003c/code\u003e operator\u003c/li\u003e\\n\u003cli\u003epoint transformation, using the \u003ccode class=\\\"language-none\\\"\u003e*\u003c/code\u003e operator\u003c/li\u003e\\n\u003cli\u003eexponent, using the \u003ccode class=\\\"language-none\\\"\u003e**\u003c/code\u003e operator\u003c/li\u003e\\n\u003cli\u003enormalization\u003c/li\u003e\\n\u003cli\u003einversion\u003c/li\u003e\\n\u003cli\u003econnection to the Lie algebra via matrix exponential and logarithm operations\u003c/li\u003e\\n\u003cli\u003econversion of orientation to/from Euler angles, roll-pitch-yaw angles and angle-axis forms.\u003c/li\u003e\\n\u003cli\u003elist operations such as append, insert and get\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cp\u003eThese are layered over a set of base functions that perform many of the same operations but represent data explicitly in terms of \u003ccode class=\\\"language-none\\\"\u003enumpy\u003c/code\u003e arrays.\u003c/p\u003e\\n\u003cp\u003eThe class, method and functions names largely mirror those of the MATLAB toolboxes, and the semantics are quite similar.\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=https://github.com/petercorke/spatialmath-python/raw/master/docs/figs/fig1.png alt=\\\"trplot\\\"\u003e\u003c/p\u003e\\n\u003cp\u003e\u003cvideo autoplay loop poster=\\\"/_next/static/gifs/f53aa66b328813113b38f087b50da80f.jpg\\\"\u003e\u003csource src=\\\"/_next/static/gifs/f53aa66b328813113b38f087b50da80f.webm\\\" type=\\\"video/webm\\\"/\u003e\u003c/video\u003e\u003c/p\u003e\\n\u003ch1\u003eInstallation\u003c/h1\u003e\\n\u003ch2\u003eUsing pip\u003c/h2\u003e\\n\u003cp\u003eInstall a snapshot from PyPI\u003c/p\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003epip install spatialmath-python\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003ch2\u003eFrom GitHub\u003c/h2\u003e\\n\u003cp\u003eInstall the current code base from GitHub and pip install a link to that cloned copy\u003c/p\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003egit clone https://github.com/petercorke/spatialmath-python.git\\ncd spatialmath-python\\npip install -e .\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003ch2\u003eDependencies\u003c/h2\u003e\\n\u003cp\u003e\u003ccode class=\\\"language-none\\\"\u003enumpy\u003c/code\u003e, \u003ccode class=\\\"language-none\\\"\u003escipy\u003c/code\u003e, \u003ccode class=\\\"language-none\\\"\u003ematplotlib\u003c/code\u003e, \u003ccode class=\\\"language-none\\\"\u003effmpeg\u003c/code\u003e (if rendering animations as a movie)\u003c/p\u003e\\n\u003ch1\u003eExamples\u003c/h1\u003e\\n\u003ch2\u003eHigh-level classes\u003c/h2\u003e\\n\u003cp\u003eThese classes abstract the low-level numpy arrays into objects that obey the rules associated with the mathematical groups SO(2), SE(2), SO(3), SE(3) as well as twists and quaternions.\u003c/p\u003e\\n\u003cp\u003eUsing classes ensures type safety, for example it stops us mixing a 2D homogeneous transformation with a 3D rotation matrix -- both of which are 3x3 matrices.  It also ensures that the internal matrix representation is always a valid member of the relevant group.\u003c/p\u003e\\n\u003cp\u003eFor example, to create an object representing a rotation of 0.3 radians about the x-axis is simply\u003c/p\u003e\\n\u003cpre class=\\\"language-python\\\"\u003e\u003ccode class=\\\"language-python\\\"\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e R1 \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e SO3\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003eRx\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0.3\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\n\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e R1\\n   \u003cspan class=\\\"token number\\\"\u003e1\u003c/span\u003e         \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e         \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e          \\n   \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e         \u003cspan class=\\\"token number\\\"\u003e0.955336\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e-\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0.29552\u003c/span\u003e    \\n   \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e         \u003cspan class=\\\"token number\\\"\u003e0.29552\u003c/span\u003e   \u003cspan class=\\\"token number\\\"\u003e0.955336\u003c/span\u003e         \\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003ewhile a rotation of 30 deg about the z-axis is\u003c/p\u003e\\n\u003cpre class=\\\"language-python\\\"\u003e\u003ccode class=\\\"language-python\\\"\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e R2 \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e SO3\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003eRz\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e30\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token string\\\"\u003e'deg'\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\n\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e R2\\n   \u003cspan class=\\\"token number\\\"\u003e0.866025\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e-\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0.5\u003c/span\u003e       \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e          \\n   \u003cspan class=\\\"token number\\\"\u003e0.5\u003c/span\u003e       \u003cspan class=\\\"token number\\\"\u003e0.866025\u003c/span\u003e  \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e          \\n   \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e         \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e         \u003cspan class=\\\"token number\\\"\u003e1\u003c/span\u003e    \\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eand the composition of these two rotations is\u003c/p\u003e\\n\u003cpre class=\\\"language-python\\\"\u003e\u003ccode class=\\\"language-python\\\"\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e R \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e R1 \u003cspan class=\\\"token operator\\\"\u003e*\u003c/span\u003e R2\\n   \u003cspan class=\\\"token number\\\"\u003e0.866025\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e-\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0.5\u003c/span\u003e       \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e          \\n   \u003cspan class=\\\"token number\\\"\u003e0.433013\u003c/span\u003e  \u003cspan class=\\\"token number\\\"\u003e0.75\u003c/span\u003e     \u003cspan class=\\\"token operator\\\"\u003e-\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0.5\u003c/span\u003e        \\n   \u003cspan class=\\\"token number\\\"\u003e0.25\u003c/span\u003e      \u003cspan class=\\\"token number\\\"\u003e0.433013\u003c/span\u003e  \u003cspan class=\\\"token number\\\"\u003e0.866025\u003c/span\u003e \\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eWe can find the corresponding Euler angles (in radians)\u003c/p\u003e\\n\u003cpre class=\\\"language-python\\\"\u003e\u003ccode class=\\\"language-python\\\"\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e R\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003eeul\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\narray\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e-\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e1.57079633\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e  \u003cspan class=\\\"token number\\\"\u003e0.52359878\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e  \u003cspan class=\\\"token number\\\"\u003e2.0943951\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eFrequently in robotics we want a sequence, a trajectory, of rotation matrices or poses. These pose classes inherit capability from the \u003ccode class=\\\"language-none\\\"\u003elist\u003c/code\u003e class\u003c/p\u003e\\n\u003cpre class=\\\"language-python\\\"\u003e\u003ccode class=\\\"language-python\\\"\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e R \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e SO3\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e   \u003cspan class=\\\"token comment\\\"\u003e# the identity\u003c/span\u003e\\n\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e R\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003eappend\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003eR1\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\n\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e R\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003eappend\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003eR2\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\n\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e \u003cspan class=\\\"token builtin\\\"\u003elen\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003eR\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\n \u003cspan class=\\\"token number\\\"\u003e3\u003c/span\u003e\\n\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e R\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e1\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\\n   \u003cspan class=\\\"token number\\\"\u003e1\u003c/span\u003e         \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e         \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e          \\n   \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e         \u003cspan class=\\\"token number\\\"\u003e0.955336\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e-\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0.29552\u003c/span\u003e    \\n   \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e         \u003cspan class=\\\"token number\\\"\u003e0.29552\u003c/span\u003e   \u003cspan class=\\\"token number\\\"\u003e0.955336\u003c/span\u003e             \\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eand this can be used in \u003ccode class=\\\"language-none\\\"\u003efor\u003c/code\u003e loops and list comprehensions.\u003c/p\u003e\\n\u003cp\u003eAn alternative way of constructing this would be (\u003ccode class=\\\"language-none\\\"\u003eR1\u003c/code\u003e, \u003ccode class=\\\"language-none\\\"\u003eR2\u003c/code\u003e defined above)\u003c/p\u003e\\n\u003cpre class=\\\"language-python\\\"\u003e\u003ccode class=\\\"language-python\\\"\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e R \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e SO3\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e SO3\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e R1\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e R2 \u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e \u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e       \\n\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e \u003cspan class=\\\"token builtin\\\"\u003elen\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003eR\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\n \u003cspan class=\\\"token number\\\"\u003e3\u003c/span\u003e\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eMany of the constructors such as \u003ccode class=\\\"language-none\\\"\u003e.Rx\u003c/code\u003e, \u003ccode class=\\\"language-none\\\"\u003e.Ry\u003c/code\u003e and \u003ccode class=\\\"language-none\\\"\u003e.Rz\u003c/code\u003e support vectorization\u003c/p\u003e\\n\u003cpre class=\\\"language-python\\\"\u003e\u003ccode class=\\\"language-python\\\"\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e R \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e SO3\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003eRx\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e np\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003earange\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token number\\\"\u003e2\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e*\u003c/span\u003enp\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003epi\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token number\\\"\u003e0.2\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\n\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e \u003cspan class=\\\"token builtin\\\"\u003elen\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003eR\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\n \u003cspan class=\\\"token number\\\"\u003e32\u003c/span\u003e\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003ewhich has created, in a single line, a list of rotation matrices.\u003c/p\u003e\\n\u003cp\u003eVectorization also applies to the operators, for instance\u003c/p\u003e\\n\u003cpre class=\\\"language-python\\\"\u003e\u003ccode class=\\\"language-python\\\"\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e A \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e R \u003cspan class=\\\"token operator\\\"\u003e*\u003c/span\u003e SO3\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003eRy\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0.5\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\n\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e \u003cspan class=\\\"token builtin\\\"\u003elen\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003eR\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\n \u003cspan class=\\\"token number\\\"\u003e32\u003c/span\u003e\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003ewill produce a result where each element is the product of each element of the left-hand side with the right-hand side, ie. \u003ccode class=\\\"language-none\\\"\u003eR[i] * SO3.Ry(0.5)\u003c/code\u003e.\u003c/p\u003e\\n\u003cp\u003eSimilarly\u003c/p\u003e\\n\u003cpre class=\\\"language-python\\\"\u003e\u003ccode class=\\\"language-python\\\"\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e A \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e SO3\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003eRy\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0.5\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e*\u003c/span\u003e R \\n\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e \u003cspan class=\\\"token builtin\\\"\u003elen\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003eR\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\n \u003cspan class=\\\"token number\\\"\u003e32\u003c/span\u003e\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003ewill produce a result where each element is the product of the left-hand side with each element of the right-hand side , ie. \u003ccode class=\\\"language-none\\\"\u003eSO3.Ry(0.5) * R[i] \u003c/code\u003e.\u003c/p\u003e\\n\u003cp\u003eFinally\u003c/p\u003e\\n\u003cpre class=\\\"language-python\\\"\u003e\u003ccode class=\\\"language-python\\\"\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e A \u003cspan class=\\\"token operator\\\"\u003e=\u003c/span\u003e R \u003cspan class=\\\"token operator\\\"\u003e*\u003c/span\u003e R \\n\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e \u003cspan class=\\\"token builtin\\\"\u003elen\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003eR\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\n \u003cspan class=\\\"token number\\\"\u003e32\u003c/span\u003e\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003ewill produce a result where each element is the product of each element of the left-hand side with each element of the right-hand side , ie. \u003ccode class=\\\"language-none\\\"\u003eR[i] * R[i] \u003c/code\u003e.\u003c/p\u003e\\n\u003cp\u003eThe underlying representation of these classes is a numpy matrix, but the class ensures that the structure of that matrix is valid for the particular group represented: SO(2), SE(2), SO(3), SE(3).  Any operation that is not valid for the group will return a matrix rather than a pose class, for example\u003c/p\u003e\\n\u003cpre class=\\\"language-python\\\"\u003e\u003ccode class=\\\"language-python\\\"\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e SO3\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003eRx\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0.3\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e*\u003c/span\u003e \u003cspan class=\\\"token number\\\"\u003e2\u003c/span\u003e\\narray\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e \u003cspan class=\\\"token number\\\"\u003e2\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e        \u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e  \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e        \u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e  \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e        \u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e\\n       \u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e        \u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e  \u003cspan class=\\\"token number\\\"\u003e1.91067298\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e-\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0.59104041\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e\\n       \u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e        \u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e  \u003cspan class=\\\"token number\\\"\u003e0.59104041\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e  \u003cspan class=\\\"token number\\\"\u003e1.91067298\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\n\\n\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e\u003e\u003c/span\u003e SO3\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003eRx\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0.3\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e-\u003c/span\u003e \u003cspan class=\\\"token number\\\"\u003e1\u003c/span\u003e\\narray\u003cspan class=\\\"token punctuation\\\"\u003e(\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e \u003cspan class=\\\"token number\\\"\u003e0\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e        \u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e-\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e1\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e        \u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e-\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e1\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e        \u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e\\n       \u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e-\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e1\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e        \u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e-\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0.04466351\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e-\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e1.29552021\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e\\n       \u003cspan class=\\\"token punctuation\\\"\u003e[\u003c/span\u003e\u003cspan class=\\\"token operator\\\"\u003e-\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e1\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e.\u003c/span\u003e        \u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e-\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0.70447979\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e,\u003c/span\u003e \u003cspan class=\\\"token operator\\\"\u003e-\u003c/span\u003e\u003cspan class=\\\"token number\\\"\u003e0.04466351\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e]\u003c/span\u003e\u003cspan class=\\\"token punctuation\\\"\u003e)\u003c/span\u003e\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eWe can print and plot these objects as well\u003c/p\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003e\u0026gt;\u0026gt;\u0026gt; T = SE3(1,2,3) * SE3.Rx(30, 'deg')\\n\u0026gt;\u0026gt;\u0026gt; T.print()\\n   1         0         0         1          \\n   0         0.866025 -0.5       2          \\n   0         0.5       0.866025  3          \\n   0         0         0         1          \\n\\n\u0026gt;\u0026gt;\u0026gt; T.printline()\\nt =        1,        2,        3; rpy/zyx =       30,        0,        0 deg\\n\\n\u0026gt;\u0026gt;\u0026gt; T.plot()\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e\u003cimg src=https://github.com/petercorke/spatialmath-python/raw/master/docs/figs/fig1.png alt=\\\"trplot\\\"\u003e\u003c/p\u003e\\n\u003cp\u003e\u003ccode class=\\\"language-none\\\"\u003eprintline\u003c/code\u003e is a compact single line format for tabular listing, whereas \u003ccode class=\\\"language-none\\\"\u003eprint\u003c/code\u003e shows the underlying matrix and for consoles that support it, it is colorised, with rotational elements in red and translational elements in blue.\u003c/p\u003e\\n\u003cp\u003eFor more detail checkout the shipped Python notebooks:\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003ca href=https://github.com/petercorke/spatialmath-python/blob/master/spatialmath/gentle-introduction.ipynb\u003egentle introduction\u003c/a\u003e\u003c/li\u003e\\n\u003cli\u003e\u003ca href=https://github.com/petercorke/spatialmath-python/blob/master/spatialmath/introduction.ipynb\u003edeeper introduction\u003c/a\u003e\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cp\u003eYou can browse it statically through the links above, or clone the toolbox and run them interactively using \u003ca href=\\\"https://jupyter.org\\\"\u003eJupyter\u003c/a\u003e or \u003ca href=\\\"https://jupyter.org\\\"\u003eJupyterLab\u003c/a\u003e.\u003c/p\u003e\\n\u003ch2\u003eLow-level spatial math\u003c/h2\u003e\\n\u003cp\u003eImport the low-level transform functions\u003c/p\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003e\u0026gt;\u0026gt;\u0026gt; import spatialmath.base as tr\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eWe can create a 3D rotation matrix\u003c/p\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003e\u0026gt;\u0026gt;\u0026gt; tr.rotx(0.3)\\narray([[ 1.        ,  0.        ,  0.        ],\\n       [ 0.        ,  0.95533649, -0.29552021],\\n       [ 0.        ,  0.29552021,  0.95533649]])\\n\\n\u0026gt;\u0026gt;\u0026gt; tr.rotx(30, unit='deg')\\narray([[ 1.       ,  0.       ,  0.       ],\\n       [ 0.       ,  0.8660254, -0.5      ],\\n       [ 0.       ,  0.5      ,  0.8660254]])\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eThe results are \u003ccode class=\\\"language-none\\\"\u003enumpy\u003c/code\u003e arrays so to perform matrix multiplication you need to use the \u003ccode class=\\\"language-none\\\"\u003e@\u003c/code\u003e operator, for example\u003c/p\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003erotx(0.3) @ roty(0.2)\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eWe also support multiple ways of passing vector information to functions that require it:\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003eas separate positional arguments\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003etransl2(1, 2)\\narray([[1., 0., 1.],\\n       [0., 1., 2.],\\n       [0., 0., 1.]])\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cul\u003e\\n\u003cli\u003eas a list or a tuple\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003etransl2( [1,2] )\\narray([[1., 0., 1.],\\n       [0., 1., 2.],\\n       [0., 0., 1.]])\\n\\ntransl2( (1,2) )\\nOut[444]: \\narray([[1., 0., 1.],\\n       [0., 1., 2.],\\n       [0., 0., 1.]])\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cul\u003e\\n\u003cli\u003eor as a \u003ccode class=\\\"language-none\\\"\u003enumpy\u003c/code\u003e array\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003etransl2( np.array([1,2]) )\\nOut[445]: \\narray([[1., 0., 1.],\\n       [0., 1., 2.],\\n       [0., 0., 1.]])\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eThere is a single module that deals with quaternions, unit or not, and the representation is a \u003ccode class=\\\"language-none\\\"\u003enumpy\u003c/code\u003e array of four elements.  As above, functions can accept the \u003ccode class=\\\"language-none\\\"\u003enumpy\u003c/code\u003e array, a list, dict or \u003ccode class=\\\"language-none\\\"\u003enumpy\u003c/code\u003e row or column vectors.\u003c/p\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003e\u0026gt;\u0026gt;\u0026gt; from spatialmath.base.quaternion import *\\n\u0026gt;\u0026gt;\u0026gt; q = qqmul([1,2,3,4], [5,6,7,8])\\n\u0026gt;\u0026gt;\u0026gt; q\\narray([-60,  12,  30,  24])\\n\u0026gt;\u0026gt;\u0026gt; qprint(q)\\n-60.000000 \u0026lt; 12.000000, 30.000000, 24.000000 \u0026gt;\\n\u0026gt;\u0026gt;\u0026gt; qnorm(q)\\n72.24956747275377\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003ch2\u003eGraphics\u003c/h2\u003e\\n\u003cp\u003e\u003cimg src=https://github.com/petercorke/spatialmath-python/raw/master/docs/figs/transforms3d.png alt=\\\"trplot\\\"\u003e\u003c/p\u003e\\n\u003cp\u003eThe functions support various plotting styles\u003c/p\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003etrplot( transl(1,2,3), frame='A', rviz=True, width=1, dims=[0, 10, 0, 10, 0, 10])\\ntrplot( transl(3,1, 2), color='red', width=3, frame='B')\\ntrplot( transl(4, 3, 1)@trotx(math.pi/3), color='green', frame='c', dims=[0,4,0,4,0,4])\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eAnimation is straightforward\u003c/p\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003etranimate(transl(4, 3, 4)@trotx(2)@troty(-2), frame=' arrow=False, dims=[0, 5], nframes=200)\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eand it can be saved to a file by\u003c/p\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003etranimate(transl(4, 3, 4)@trotx(2)@troty(-2), frame=' arrow=False, dims=[0, 5], nframes=200, movie='out.mp4')\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003e\u003cvideo autoplay loop poster=\\\"/_next/static/gifs/f53aa66b328813113b38f087b50da80f.jpg\\\"\u003e\u003csource src=\\\"/_next/static/gifs/f53aa66b328813113b38f087b50da80f.webm\\\" type=\\\"video/webm\\\"/\u003e\u003c/video\u003e\u003c/p\u003e\\n\u003cp\u003eAt the moment we can only save as an MP4, but the following incantation will covert that to an animated GIF for embedding in web pages\u003c/p\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003effmpeg -i out -r 20 -vf \u0026quot;fps=10,scale=640:-1:flags=lanczos,split[s0][s1];[s0]palettegen[p];[s1][p]paletteuse\u0026quot; out.gif\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003ch2\u003eSymbolic support\u003c/h2\u003e\\n\u003cp\u003eSome functions have support for symbolic variables, for example\u003c/p\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003eimport sympy\\n\\ntheta = sym.symbols('theta')\\nprint(rotx(theta))\\n[[1 0 0]\\n [0 cos(theta) -sin(theta)]\\n [0 sin(theta) cos(theta)]]\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eThe resulting \u003ccode class=\\\"language-none\\\"\u003enumpy\u003c/code\u003e array is an array of symbolic objects not numbers – the constants are also symbolic objects.  You can read the elements of the matrix\u003c/p\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003ea = T[0,0]\\n\\na\\nOut[258]: 1\\n\\ntype(a)\\nOut[259]: int\\n\\na = T[1,1]\\na\\nOut[256]: \\ncos(theta)\\ntype(a)\\nOut[255]: cos\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003cp\u003eWe see that the symbolic constants are converted back to Python numeric types on read.\u003c/p\u003e\\n\u003cp\u003eSimilarly when we assign an element or slice of the symbolic matrix to a numeric value, they are converted to symbolic constants on the way in.\u003c/p\u003e\\n\",\"name\":\"Spatialmath Python\",\"type\":\"code\",\"url\":\"https://github.com/petercorke/spatialmath-python\",\"image\":\"/_next/static/images/CartesianSnakes_LogoW-292d336acf7d3ffebbf1da8f9f6ccc9d.png\",\"image_fit\":\"contain\",\"src\":\"/content/robotics_toolbox/spatialmath-python.md\",\"id\":\"spatialmath-python\",\"image_position\":\"center\"}"},"__N_SSG":true},"page":"/code/[code]","query":{"code":"spatialmath-python"},"buildId":"1nuS-y2A2y9fnoeaTjLIs","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-ff94e68042added27a93.js"></script><script src="/_next/static/chunks/main-c439d75cfca1ce6a0f7f.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.a6402fb70cc88f6f61b0.js" async=""></script><script src="/_next/static/chunks/commons.455c36b53add9c9c2736.js" async=""></script><script src="/_next/static/chunks/pages/_app-d07085bfa8b88c39a473.js" async=""></script><script src="/_next/static/chunks/3d04e185781834a6bdd2cdc78a14cbdede4fee55.e5e850c413858c1cae6e.js" async=""></script><script src="/_next/static/chunks/pages/code/%5Bcode%5D-855919f7a7c9635db067.js" async=""></script><script src="/_next/static/1nuS-y2A2y9fnoeaTjLIs/_buildManifest.js" async=""></script><script src="/_next/static/1nuS-y2A2y9fnoeaTjLIs/_ssgManifest.js" async=""></script></body></html>