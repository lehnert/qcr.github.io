<!DOCTYPE html><html><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-H0HTWHNLPD"></script><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-H0HTWHNLPD', {
              page_path: window.location.pathname,
            });
          </script><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>QUT Centre for Robotics Open Source</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/ec58676f2add16c92212.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ec58676f2add16c92212.css" data-n-g=""/><link rel="preload" href="/_next/static/css/e59d3ff98fad3f065f44.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e59d3ff98fad3f065f44.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-c439d75cfca1ce6a0f7f.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.a6402fb70cc88f6f61b0.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.455c36b53add9c9c2736.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-d07085bfa8b88c39a473.js" as="script"/><link rel="preload" href="/_next/static/chunks/3d04e185781834a6bdd2cdc78a14cbdede4fee55.e5e850c413858c1cae6e.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/code/%5Bcode%5D-855919f7a7c9635db067.js" as="script"/></head><body><div id="__next"><div class="site" style="--mdc-theme-on-primary:rgba(255, 255, 255, 1);--mdc-theme-primary:#00407a"><header class="top_bar_bar__3T8Pf mdc-top-app-bar"><div class="top_bar_row__2Br8o mdc-top-app-bar__row"><section class="top_bar_logo-section__-bkhv mdc-top-app-bar__section mdc-top-app-bar__section--align-start"><img class="top_bar_logo__27Lwl" alt="QCR Logo (light)" src="/_next/static/images/qcr_logo_light-3a0967f7c1a32ca7de4713af85481529.png"/></section><section class="top_bar_pages__3emYr mdc-top-app-bar__section mdc-top-app-bar__section--align-end"><button class="mdc-button"><div class="mdc-button__ripple"></div><span class="mdc-button__label">Collections</span></button><button class="top_bar_selected-tab__2hCGV mdc-button"><div class="mdc-button__ripple"></div><span class="mdc-button__label">Code</span></button><button class="mdc-button"><div class="mdc-button__ripple"></div><span class="mdc-button__label">Datasets</span></button></section></div></header><div class="layout_space__3mcnW"></div><div class="layout_main__1OEEk layout_content__3ZRgy"><span class="code_heading__1xc27 mdc-typography--headline3">Graph classes (Python)</span><a href="https://github.com/petercorke/pgraph-python" target="_blank" class="focus_button_link__3dooQ"><button class="focus_button_button__MO_3J mdc-button mdc-button--raised"><div class="mdc-button__ripple"></div><span class="mdc-button__label">View the code on GitHub</span><i class="rmwc-icon rmwc-icon--url material-icons mdc-button__icon" style="background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgc29kaXBvZGk6ZG9jbmFtZT0iZ2l0aHViLnN2ZyIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMS4wICgxLjArcjczKzEpIgogICBpZD0ic3ZnMTM4MyIKICAgdmVyc2lvbj0iMS4xIgogICB2aWV3Qm94PSIwIDAgMTEuNDkzMTQ3IDExLjIwOTQ2NyIKICAgaGVpZ2h0PSIxMS4yMDk0NjdtbSIKICAgd2lkdGg9IjExLjQ5MzE0N21tIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzMTM3NyIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMzYyIgogICAgIGlua3NjYXBlOndpbmRvdy14PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjEwNTIiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxOTIwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC1yb3RhdGlvbj0iMCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9Im1tIgogICAgIGlua3NjYXBlOmN5PSIxMjYuMjk1MTUiCiAgICAgaW5rc2NhcGU6Y3g9IjE4Ljk2OTk1MSIKICAgICBpbmtzY2FwZTp6b29tPSIwLjk4ODg0NzEiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgaWQ9ImJhc2UiIC8+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhMTM4MCI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTAxLjMyMzAzLC05OC4yMTQ5NTkpIgogICAgIGlkPSJsYXllcjEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSI+CiAgICA8ZwogICAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMC4zNTI3Nzc3NywwLDAsLTAuMzUyNzc3NzcsMTA3LjA2OTA3LDk4LjIxNDk1OSkiCiAgICAgICBpZD0iZzIyIj4KICAgICAgPHBhdGgKICAgICAgICAgaWQ9InBhdGgyNCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzFiMTgxNztmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZSIKICAgICAgICAgZD0ibSAwLDAgYyAtOC45OTUsMCAtMTYuMjg4LC03LjI5MyAtMTYuMjg4LC0xNi4yOSAwLC03LjE5NyA0LjY2NywtMTMuMzAyIDExLjE0LC0xNS40NTcgMC44MTUsLTAuMTQ5IDEuMTEyLDAuMzU0IDEuMTEyLDAuNzg2IDAsMC4zODYgLTAuMDE0LDEuNDExIC0wLjAyMiwyLjc3IC00LjUzMSwtMC45ODQgLTUuNDg3LDIuMTg0IC01LjQ4NywyLjE4NCAtMC43NDEsMS44ODEgLTEuODA5LDIuMzgyIC0xLjgwOSwyLjM4MiAtMS40NzksMS4wMTEgMC4xMTIsMC45OTEgMC4xMTIsMC45OTEgMS42MzUsLTAuMTE2IDIuNDk1LC0xLjY3OSAyLjQ5NSwtMS42NzkgMS40NTMsLTIuNDg5IDMuODEzLC0xLjc3IDQuNzQxLC0xLjM1NCAwLjE0OCwxLjA1MyAwLjU2OCwxLjc3MSAxLjAzNCwyLjE3OCAtMy42MTcsMC40MTEgLTcuNDIsMS44MDkgLTcuNDIsOC4wNTEgMCwxLjc3OCAwLjYzNSwzLjIzMiAxLjY3Nyw0LjM3MSAtMC4xNjgsMC40MTIgLTAuNzI3LDIuMDY4IDAuMTU5LDQuMzExIDAsMCAxLjM2OCwwLjQzOCA0LjQ4LC0xLjY3IDEuMjk5LDAuMzYxIDIuNjkzLDAuNTQyIDQuMDc4LDAuNTQ4IDEuMzgzLC0wLjAwNiAyLjc3NywtMC4xODcgNC4wNzgsLTAuNTQ4IDMuMTEsMi4xMDggNC40NzUsMS42NyA0LjQ3NSwxLjY3IDAuODg5LC0yLjI0MyAwLjMzLC0zLjg5OSAwLjE2MiwtNC4zMTEgMS4wNDQsLTEuMTM5IDEuNjc1LC0yLjU5MyAxLjY3NSwtNC4zNzEgMCwtNi4yNTggLTMuODA5LC03LjYzNSAtNy40MzgsLTguMDM4IDAuNTg1LC0wLjUwMyAxLjEwNiwtMS40OTcgMS4xMDYsLTMuMDE3IDAsLTIuMTc3IC0wLjAyLC0zLjkzNCAtMC4wMiwtNC40NjggMCwtMC40MzYgMC4yOTMsLTAuOTQzIDEuMTIsLTAuNzg0IDYuNDY4LDIuMTU5IDExLjEzMSw4LjI2IDExLjEzMSwxNS40NTUgQyAxNi4yOTEsLTcuMjkzIDguOTk3LDAgMCwwIiAvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==)"></i></button></a><span class="code_extra__yQqAk mdc-typography--body2">petercorke/pgraph-python</span><span class="markdown-body mdc-typography--body1"><div><h1>PGraph: simple graphs for Python</h1>
<p><img src="https://img.shields.io/pypi/dw/pgraph-python" alt="pypi downloads">
<a href="https://pypi.python.org/pypi/pgraph-python/"><img src="https://badge.fury.io/py/pgraph-python.svg" alt="PyPI version fury.io"></a>
<a href="https://lgtm.com/projects/g/petercorke/pgraph-python/context:python"><img src="https://img.shields.io/lgtm/grade/python/g/petercorke/pgraph-python.svg?logo=lgtm&amp;logoWidth=18" alt="Language grade: Python"></a>
<a href="https://pypi.python.org/pypi/pgraph-python/"><img src="https://img.shields.io/pypi/pyversions/pgraph-python" alt="PyPI pyversions"></a>
<a href=https://github.com/petercorke/pgraph-python/graphs/commit-activity><img src="https://img.shields.io/badge/Maintained%3F-yes-green.svg" alt="Maintenance"></a>
<a href=https://github.com/petercorke/pgraph-python/blob/master/LICENSE><img src="https://img.shields.io/github/license/Naereen/StrapDown.js.svg" alt="GitHub license"></a>
<a href="https://qcr.github.io"><img src=https://github.com/qcr/qcr.github.io/raw/master/misc/badge.svg alt="QUT Centre for Robotics Open Source"></a></p>
<ul>
<li>GitHub repository: <a href=https://github.com/petercorke/pgraph-python>https://github.com/petercorke/pgraph-python</a></li>
<li>Documentation: <a href="https://petercorke.github.io/pgraph-python">https://petercorke.github.io/pgraph-python</a></li>
<li>Dependencies: <code class="language-none">numpy</code></li>
</ul>
<p>This Python package allows the manipulation of directed and non-directed graphs.  Also supports embedded graphs.  It is suitable for graphs with thousands of nodes.</p>
<p><img src=https://github.com/petercorke/pgraph-python/raw/master/examples/roads.png alt="road network"></p>
<pre class="language-none"><code class="language-none">from pgraph import *
import json

# load places and routes
with open('places.json', 'r') as f:
    places = json.loads(f.read())
with open('routes.json', 'r') as f:
    routes = json.loads(f.read())

# build the graph
g = UGraph()

for name, info in places.items():
    g.add_vertex(name=name, coord=info[&quot;utm&quot;])

for route in routes:
    g.add_edge(route[0], route[1], cost=route[2])

# plan a path from Hughenden to Brisbane
p = g.path_Astar('Hughenden', 'Brisbane')
g.plot(block=False) # plot it
g.highlight_path(p)  # overlay the path
</code></pre>
<h3>Properties and methods of the graph</h3>
<p>Graphs belong to the class <code class="language-none">UGraph</code> or <code class="language-none">DGraph</code> for undirected or directed graphs respectively.  The graph is essentially a container for the vertices.</p>
<ul>
<li>
<p><code class="language-none">g.add_vertex()</code> add a vertex</p>
</li>
<li>
<p><code class="language-none">g.n</code> the number of vertices</p>
</li>
<li>
<p><code class="language-none">g</code> is an iterator over vertices, can be used as <code class="language-none">for vertex in g:</code></p>
</li>
<li>
<p><code class="language-none">g[i]</code> reference a vertex by its index or name</p>
<hr>
</li>
<li>
<p><code class="language-none">g.add_edge()</code> connect two vertices</p>
</li>
<li>
<p><code class="language-none">g.edges()</code> all edges in the graph</p>
</li>
<li>
<p><code class="language-none">g.plot()</code> plots the vertices and edges</p>
</li>
<li>
<p><code class="language-none">g.nc</code> the number of graph components, 1 if fully connected</p>
</li>
<li>
<p><code class="language-none">g.component(v)</code> the component that vertex <code class="language-none">v</code> belongs to</p>
<hr>
</li>
<li>
<p><code class="language-none">g.path_BFS()</code> breadth-first search</p>
</li>
<li>
<p><code class="language-none">g.path_Astar()</code> A* search</p>
<hr>
</li>
<li>
<p><code class="language-none">g.adjacency()</code> adjacency matrix</p>
</li>
<li>
<p><code class="language-none">g.Laplacian()</code> Laplacian matrix</p>
</li>
<li>
<p><code class="language-none">g.incidence()</code> incidence matrix</p>
</li>
</ul>
<h3>Properties and methods of a vertex</h3>
<p>Vertices belong to the class <code class="language-none">UVertex</code> (for undirected graphs) or <code class="language-none">DVertex</code> (for directed graphs), which are each subclasses of <code class="language-none">Vertex</code>.</p>
<ul>
<li><code class="language-none">v.coord</code> the coordinate vector for embedded graph (optional)</li>
<li><code class="language-none">v.name</code> the name of the vertex (optional)</li>
<li><code class="language-none">v.neighbours()</code> is a list of the neighbouring vertices</li>
<li><code class="language-none">v1.samecomponent(v2)</code> predicate for vertices belonging to the same component</li>
</ul>
<p>Vertices can be named and referenced by name.</p>
<h3>Properties and methods of an edge</h3>
<p>Edges are instances of the class <code class="language-none">Edge</code>.
Edges are not referenced by the graph object, each edge references a pair of vertices, and the vertices reference the edges.  For a directed graph only the start vertex of an edge references the edge object, whereas for an undirected graph both vertices reference the edge object.</p>
<ul>
<li><code class="language-none">e.cost</code> cost of edge for planning methods</li>
<li><code class="language-none">e.next(v)</code> vertex on edge <code class="language-none">e</code> that is not <code class="language-none">v</code></li>
<li><code class="language-none">e.v1</code>, <code class="language-none">e.v2</code> the two vertices that define the edge <code class="language-none">e</code></li>
</ul>
<h2>Modifying a graph</h2>
<ul>
<li><code class="language-none">g.remove(v)</code> remove vertex <code class="language-none">v</code></li>
<li><code class="language-none">e.remove()</code> remove edge <code class="language-none">e</code></li>
</ul>
<h2>Subclasing pgraph classes</h2>
<p>Consider a user class <code class="language-none">Foo</code> that we would like to connect using a graph <em>overlay</em>, ie.
instances of <code class="language-none">Foo</code> becomes vertices in a graph.</p>
<ul>
<li>Have it subclass either <code class="language-none">DVertex</code> or <code class="language-none">UVertex</code> depending on graph type</li>
<li>Then place instances of <code class="language-none">Foo</code> into the graph using <code class="language-none">add_vertex</code> and create edges as required</li>
</ul>
<pre class="language-none"><code class="language-none">class Foo(UVertex):
  # foo stuff goes here
  
f1 = Foo(...)
f2 = Foo(...)

g = UGraph() # create a new undirected graph
g.add_vertex(f1)
g.add_vertex(f2)

f1.connect(f2, cost=3)
for f in f1.neighbours():
    # say hi to the neighbours
</code></pre>
<h2>Under the hood</h2>
<p>The key objects and their interactions are shown below.</p>
<p><img src=https://github.com/petercorke/pgraph-python/raw/master/docs/source/datastructures.png alt="data structures"></p>
<h2>MATLAB version</h2>
<p>This is a re-engineered version of <a href=https://github.com/petercorke/spatialmath-matlab/blob/master/PGraph.m>PGraph.m</a> which ships as part of the <a href=https://github.com/petercorke/spatialmath-matlab>Spatial Math Toolbox for MATLAB</a>.  This class is used to support bundle adjustment, pose-graph SLAM and various planners such as PRM, RRT and Lattice.</p>
<p>The Python version was designed from the start to work with directed and undirected graphs, whereas directed graphs were a late addition to the MATLAB version.  Semantics are similar but not identical.  In particular the use of subclassing rather than references to
<em>user data</em> is encouraged.</p>
</div> </span></div><div class="bottom_bar_bar__B7RGm"><div class="site-bottom-bar bottom_bar_content__2DVtD"><div></div><div></div><div><span class="mdc-typography--body2">CRICOS No. 00213J</span></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"codeData":"{\"content\":\"\u003ch1\u003ePGraph: simple graphs for Python\u003c/h1\u003e\\n\u003cp\u003e\u003cimg src=\\\"https://img.shields.io/pypi/dw/pgraph-python\\\" alt=\\\"pypi downloads\\\"\u003e\\n\u003ca href=\\\"https://pypi.python.org/pypi/pgraph-python/\\\"\u003e\u003cimg src=\\\"https://badge.fury.io/py/pgraph-python.svg\\\" alt=\\\"PyPI version fury.io\\\"\u003e\u003c/a\u003e\\n\u003ca href=\\\"https://lgtm.com/projects/g/petercorke/pgraph-python/context:python\\\"\u003e\u003cimg src=\\\"https://img.shields.io/lgtm/grade/python/g/petercorke/pgraph-python.svg?logo=lgtm\u0026amp;logoWidth=18\\\" alt=\\\"Language grade: Python\\\"\u003e\u003c/a\u003e\\n\u003ca href=\\\"https://pypi.python.org/pypi/pgraph-python/\\\"\u003e\u003cimg src=\\\"https://img.shields.io/pypi/pyversions/pgraph-python\\\" alt=\\\"PyPI pyversions\\\"\u003e\u003c/a\u003e\\n\u003ca href=https://github.com/petercorke/pgraph-python/graphs/commit-activity\u003e\u003cimg src=\\\"https://img.shields.io/badge/Maintained%3F-yes-green.svg\\\" alt=\\\"Maintenance\\\"\u003e\u003c/a\u003e\\n\u003ca href=https://github.com/petercorke/pgraph-python/blob/master/LICENSE\u003e\u003cimg src=\\\"https://img.shields.io/github/license/Naereen/StrapDown.js.svg\\\" alt=\\\"GitHub license\\\"\u003e\u003c/a\u003e\\n\u003ca href=\\\"https://qcr.github.io\\\"\u003e\u003cimg src=https://github.com/qcr/qcr.github.io/raw/master/misc/badge.svg alt=\\\"QUT Centre for Robotics Open Source\\\"\u003e\u003c/a\u003e\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003eGitHub repository: \u003ca href=https://github.com/petercorke/pgraph-python\u003ehttps://github.com/petercorke/pgraph-python\u003c/a\u003e\u003c/li\u003e\\n\u003cli\u003eDocumentation: \u003ca href=\\\"https://petercorke.github.io/pgraph-python\\\"\u003ehttps://petercorke.github.io/pgraph-python\u003c/a\u003e\u003c/li\u003e\\n\u003cli\u003eDependencies: \u003ccode class=\\\"language-none\\\"\u003enumpy\u003c/code\u003e\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cp\u003eThis Python package allows the manipulation of directed and non-directed graphs.  Also supports embedded graphs.  It is suitable for graphs with thousands of nodes.\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=https://github.com/petercorke/pgraph-python/raw/master/examples/roads.png alt=\\\"road network\\\"\u003e\u003c/p\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003efrom pgraph import *\\nimport json\\n\\n# load places and routes\\nwith open('places.json', 'r') as f:\\n    places = json.loads(f.read())\\nwith open('routes.json', 'r') as f:\\n    routes = json.loads(f.read())\\n\\n# build the graph\\ng = UGraph()\\n\\nfor name, info in places.items():\\n    g.add_vertex(name=name, coord=info[\u0026quot;utm\u0026quot;])\\n\\nfor route in routes:\\n    g.add_edge(route[0], route[1], cost=route[2])\\n\\n# plan a path from Hughenden to Brisbane\\np = g.path_Astar('Hughenden', 'Brisbane')\\ng.plot(block=False) # plot it\\ng.highlight_path(p)  # overlay the path\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003ch3\u003eProperties and methods of the graph\u003c/h3\u003e\\n\u003cp\u003eGraphs belong to the class \u003ccode class=\\\"language-none\\\"\u003eUGraph\u003c/code\u003e or \u003ccode class=\\\"language-none\\\"\u003eDGraph\u003c/code\u003e for undirected or directed graphs respectively.  The graph is essentially a container for the vertices.\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003e\\n\u003cp\u003e\u003ccode class=\\\"language-none\\\"\u003eg.add_vertex()\u003c/code\u003e add a vertex\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e\u003ccode class=\\\"language-none\\\"\u003eg.n\u003c/code\u003e the number of vertices\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e\u003ccode class=\\\"language-none\\\"\u003eg\u003c/code\u003e is an iterator over vertices, can be used as \u003ccode class=\\\"language-none\\\"\u003efor vertex in g:\u003c/code\u003e\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e\u003ccode class=\\\"language-none\\\"\u003eg[i]\u003c/code\u003e reference a vertex by its index or name\u003c/p\u003e\\n\u003chr\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e\u003ccode class=\\\"language-none\\\"\u003eg.add_edge()\u003c/code\u003e connect two vertices\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e\u003ccode class=\\\"language-none\\\"\u003eg.edges()\u003c/code\u003e all edges in the graph\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e\u003ccode class=\\\"language-none\\\"\u003eg.plot()\u003c/code\u003e plots the vertices and edges\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e\u003ccode class=\\\"language-none\\\"\u003eg.nc\u003c/code\u003e the number of graph components, 1 if fully connected\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e\u003ccode class=\\\"language-none\\\"\u003eg.component(v)\u003c/code\u003e the component that vertex \u003ccode class=\\\"language-none\\\"\u003ev\u003c/code\u003e belongs to\u003c/p\u003e\\n\u003chr\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e\u003ccode class=\\\"language-none\\\"\u003eg.path_BFS()\u003c/code\u003e breadth-first search\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e\u003ccode class=\\\"language-none\\\"\u003eg.path_Astar()\u003c/code\u003e A* search\u003c/p\u003e\\n\u003chr\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e\u003ccode class=\\\"language-none\\\"\u003eg.adjacency()\u003c/code\u003e adjacency matrix\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e\u003ccode class=\\\"language-none\\\"\u003eg.Laplacian()\u003c/code\u003e Laplacian matrix\u003c/p\u003e\\n\u003c/li\u003e\\n\u003cli\u003e\\n\u003cp\u003e\u003ccode class=\\\"language-none\\\"\u003eg.incidence()\u003c/code\u003e incidence matrix\u003c/p\u003e\\n\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003ch3\u003eProperties and methods of a vertex\u003c/h3\u003e\\n\u003cp\u003eVertices belong to the class \u003ccode class=\\\"language-none\\\"\u003eUVertex\u003c/code\u003e (for undirected graphs) or \u003ccode class=\\\"language-none\\\"\u003eDVertex\u003c/code\u003e (for directed graphs), which are each subclasses of \u003ccode class=\\\"language-none\\\"\u003eVertex\u003c/code\u003e.\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003ccode class=\\\"language-none\\\"\u003ev.coord\u003c/code\u003e the coordinate vector for embedded graph (optional)\u003c/li\u003e\\n\u003cli\u003e\u003ccode class=\\\"language-none\\\"\u003ev.name\u003c/code\u003e the name of the vertex (optional)\u003c/li\u003e\\n\u003cli\u003e\u003ccode class=\\\"language-none\\\"\u003ev.neighbours()\u003c/code\u003e is a list of the neighbouring vertices\u003c/li\u003e\\n\u003cli\u003e\u003ccode class=\\\"language-none\\\"\u003ev1.samecomponent(v2)\u003c/code\u003e predicate for vertices belonging to the same component\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cp\u003eVertices can be named and referenced by name.\u003c/p\u003e\\n\u003ch3\u003eProperties and methods of an edge\u003c/h3\u003e\\n\u003cp\u003eEdges are instances of the class \u003ccode class=\\\"language-none\\\"\u003eEdge\u003c/code\u003e.\\nEdges are not referenced by the graph object, each edge references a pair of vertices, and the vertices reference the edges.  For a directed graph only the start vertex of an edge references the edge object, whereas for an undirected graph both vertices reference the edge object.\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003ccode class=\\\"language-none\\\"\u003ee.cost\u003c/code\u003e cost of edge for planning methods\u003c/li\u003e\\n\u003cli\u003e\u003ccode class=\\\"language-none\\\"\u003ee.next(v)\u003c/code\u003e vertex on edge \u003ccode class=\\\"language-none\\\"\u003ee\u003c/code\u003e that is not \u003ccode class=\\\"language-none\\\"\u003ev\u003c/code\u003e\u003c/li\u003e\\n\u003cli\u003e\u003ccode class=\\\"language-none\\\"\u003ee.v1\u003c/code\u003e, \u003ccode class=\\\"language-none\\\"\u003ee.v2\u003c/code\u003e the two vertices that define the edge \u003ccode class=\\\"language-none\\\"\u003ee\u003c/code\u003e\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003ch2\u003eModifying a graph\u003c/h2\u003e\\n\u003cul\u003e\\n\u003cli\u003e\u003ccode class=\\\"language-none\\\"\u003eg.remove(v)\u003c/code\u003e remove vertex \u003ccode class=\\\"language-none\\\"\u003ev\u003c/code\u003e\u003c/li\u003e\\n\u003cli\u003e\u003ccode class=\\\"language-none\\\"\u003ee.remove()\u003c/code\u003e remove edge \u003ccode class=\\\"language-none\\\"\u003ee\u003c/code\u003e\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003ch2\u003eSubclasing pgraph classes\u003c/h2\u003e\\n\u003cp\u003eConsider a user class \u003ccode class=\\\"language-none\\\"\u003eFoo\u003c/code\u003e that we would like to connect using a graph \u003cem\u003eoverlay\u003c/em\u003e, ie.\\ninstances of \u003ccode class=\\\"language-none\\\"\u003eFoo\u003c/code\u003e becomes vertices in a graph.\u003c/p\u003e\\n\u003cul\u003e\\n\u003cli\u003eHave it subclass either \u003ccode class=\\\"language-none\\\"\u003eDVertex\u003c/code\u003e or \u003ccode class=\\\"language-none\\\"\u003eUVertex\u003c/code\u003e depending on graph type\u003c/li\u003e\\n\u003cli\u003eThen place instances of \u003ccode class=\\\"language-none\\\"\u003eFoo\u003c/code\u003e into the graph using \u003ccode class=\\\"language-none\\\"\u003eadd_vertex\u003c/code\u003e and create edges as required\u003c/li\u003e\\n\u003c/ul\u003e\\n\u003cpre class=\\\"language-none\\\"\u003e\u003ccode class=\\\"language-none\\\"\u003eclass Foo(UVertex):\\n  # foo stuff goes here\\n  \\nf1 = Foo(...)\\nf2 = Foo(...)\\n\\ng = UGraph() # create a new undirected graph\\ng.add_vertex(f1)\\ng.add_vertex(f2)\\n\\nf1.connect(f2, cost=3)\\nfor f in f1.neighbours():\\n    # say hi to the neighbours\\n\u003c/code\u003e\u003c/pre\u003e\\n\u003ch2\u003eUnder the hood\u003c/h2\u003e\\n\u003cp\u003eThe key objects and their interactions are shown below.\u003c/p\u003e\\n\u003cp\u003e\u003cimg src=https://github.com/petercorke/pgraph-python/raw/master/docs/source/datastructures.png alt=\\\"data structures\\\"\u003e\u003c/p\u003e\\n\u003ch2\u003eMATLAB version\u003c/h2\u003e\\n\u003cp\u003eThis is a re-engineered version of \u003ca href=https://github.com/petercorke/spatialmath-matlab/blob/master/PGraph.m\u003ePGraph.m\u003c/a\u003e which ships as part of the \u003ca href=https://github.com/petercorke/spatialmath-matlab\u003eSpatial Math Toolbox for MATLAB\u003c/a\u003e.  This class is used to support bundle adjustment, pose-graph SLAM and various planners such as PRM, RRT and Lattice.\u003c/p\u003e\\n\u003cp\u003eThe Python version was designed from the start to work with directed and undirected graphs, whereas directed graphs were a late addition to the MATLAB version.  Semantics are similar but not identical.  In particular the use of subclassing rather than references to\\n\u003cem\u003euser data\u003c/em\u003e is encouraged.\u003c/p\u003e\\n\",\"name\":\"Graph classes (Python)\",\"type\":\"code\",\"url\":\"https://github.com/petercorke/pgraph-python\",\"image\":\"https://github.com/petercorke/pgraph-python/raw/master/examples/roads.png\",\"src\":\"/content/pgraph-python.md\",\"id\":\"pgraph-python\",\"image_position\":\"center\"}"},"__N_SSG":true},"page":"/code/[code]","query":{"code":"pgraph-python"},"buildId":"1nuS-y2A2y9fnoeaTjLIs","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-ff94e68042added27a93.js"></script><script src="/_next/static/chunks/main-c439d75cfca1ce6a0f7f.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.a6402fb70cc88f6f61b0.js" async=""></script><script src="/_next/static/chunks/commons.455c36b53add9c9c2736.js" async=""></script><script src="/_next/static/chunks/pages/_app-d07085bfa8b88c39a473.js" async=""></script><script src="/_next/static/chunks/3d04e185781834a6bdd2cdc78a14cbdede4fee55.e5e850c413858c1cae6e.js" async=""></script><script src="/_next/static/chunks/pages/code/%5Bcode%5D-855919f7a7c9635db067.js" async=""></script><script src="/_next/static/1nuS-y2A2y9fnoeaTjLIs/_buildManifest.js" async=""></script><script src="/_next/static/1nuS-y2A2y9fnoeaTjLIs/_ssgManifest.js" async=""></script></body></html>